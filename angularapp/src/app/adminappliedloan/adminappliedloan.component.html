<div id="adminnav">
  <app-admin-navbar></app-admin-navbar>
</div>
<table class="back">
  <tbody>
    <tr *ngFor="let i of users">
      <div class="detailsofcustomer">
        <table>
        <tr class="first"><td>Applicant Name :</td><td>{{ i.applicantName }}</td></tr>
        <tr><td>Loan Id :</td><td>{{ i.loanId }}</td></tr>
        <tr><td>Applicant Type :</td><td>{{ i.loantype }}</td></tr>
        <tr><td>Applicant Address :</td><td>{{ i.applicantAddress }}</td></tr>
        <tr><td>Applicant Mobile :</td><td>{{ i.applicantMobile }}</td></tr>
        <tr><td>Applicant Email :</td><td>{{ i.applicantEmail }}</td></tr>
        <tr><td>Applicant Aadhar No :</td><td>{{ i.applicantAadhar }}</td></tr>
        <tr><td>Applicant Pan No :</td><td>{{ i.applicantPan }}</td></tr>
        <tr><td>Applicant Salary :</td><td>{{ i.applicantSalary }}</td></tr>
        <tr><td>Amount Required :</td><td>{{ i.loanAmountRequired }}</td></tr>
        <tr><td>Repayment Months :</td><td>{{ i.repaymentMonths }}</td></tr>
      </table>
        <div class="buttons">
          <td><button (click)="deleteCustomer(i.loanId)" class="btn btn-danger">Delete</button>
            <button (click)="customerDetails(i.loanId)" class="btn btn-info" style="margin-left : 10px">View</button>
            <button (click)="editCustomer(i.loanId)" class="btn btn-secondary" style="margin-left : 10px"> Edit</button>
          </td>
          <br>
          <div *ngIf="i.apprej==null; else elseBlock" style="text-align :center;" routerLinkActive="active"
            class="buttons">
            <button class="btn btn-success" (click)="approveLoan(i.loanId)" routerLink="/adminapprovedloan"
              value="approveTask">Approve for Loan</button>
            <button class="btn btn-danger" (click)="rejectLoan(i.loanId)"
              routerLink="/adminapprovedloan">Reject</button>
          </div>
          <ng-template #elseBlock>
            <container-element [ngSwitch]="i.apprej">
              <label *ngSwitchCase="'app'"> <button style="background-color: green;color: white;" class="btn btn-success" value="Approved">Approved</button></label>
              <label *ngSwitchCase="'rej'"><button style="background-color: red;color: white;" class="btn btn-danger">Rejected</button></label>
            </container-element>

            <ng-template *ngIf="i.apprej!=null;else thenBlock">
              <button class="btn btn-mini btn-primary" value="Approved">Approved</button>
            </ng-template>
            <ng-template #thenBlock>
              <button class="btn btn-mini btn-danger">Rejected</button>
            </ng-template>
          </ng-template>
        </div>
      </div>
    </tr>
  </tbody>
</table>